<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Business Tycoon</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">

  <style>
    * {
      box-sizing: border-box
    }

    body {
  margin: 0;
  padding: 12px;
  font-family: Poppins, sans-serif;
  color: white;
  min-height: 100svh;
  overflow-x: hidden;
  position: relative;
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-image: url('Renz.png');
  background-repeat: no-repeat;
  background-position: center top;
  background-size: cover;
  z-index: -1;
}

    /* HEADER */
    .app-header {
      position: sticky;
      top: 0;
      z-index: 99;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px;
      margin-bottom: 0px;
      background: rgba(0, 0, 0, 0.322);
      border-radius: 14px;
      background: none;
      backdrop-filter: none;
      position: relative;
    }

    .header-btn {
      border: none;
      border-radius: 10px;
      padding: 6px 10px;
      background: #32b3cd;
      color: white;
      font-size: 14px;
      cursor: pointer;
      margin-top: 0px;
    }

    .soundbtn {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 18px
    }

    /* TITLE */
    .title,
    .money {
      text-align: center;
      background: rgba(0, 0, 0, .55);
      padding: 10px;
      border-radius: 12px;
      margin-bottom: 3px;
    }

    /* LOCKED */
    #lockedBanner {
      display: none;
      background: rgba(245, 159, 11, .55);
      padding: 8px;
      border-radius: 10px;
      text-align: center;
      font-size: 14px;
      font-weight: 600;
      margin-bottom: 10px;
    }

    /* BUSINESS LIST */
    #businessList {
      display: flex;
      flex-direction: column;
      gap: 4px;
      /* halos dikit */
    }

    /* BUSINESS CARD */
    .business {
      background: rgba(245, 159, 11, 0.289);
      backdrop-filter: none;
      color: #1f2937;
      font-size: x-large;
      /* tanggal glass effect */

      border-radius: 14px;
      padding: 6px 8px;

      display: grid;
      grid-template-columns: 40px 1fr auto;
      gap: 10px;
      align-items: center;
    }

    .business-icon {
      font-size: 22px
    }

    .business-info {
      font-size: 13px;
      line-height: 1.3
    }

    .upgradeBtn {
      border: none;
      border-radius: 10px;
      padding: 6px 10px;
      font-size: 12px;
      font-weight: 700;
      background: #f59e0b;
      color: #1f2937;
      cursor: pointer;
    }

    .upgradeBtn:disabled {
      background: #4b5563;
      color: #9ca3af
    }

    /* COIN */
    .coin-pulse {
      width: 22px;
      height: 22px;
      border-radius: 50%;
      background: linear-gradient(145deg, #facc15, #f59e0b);
      color: #1f2937;
      font-weight: 900;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: pulse 1.4s infinite;
      margin-top: 4px;

      animation: coinPulse 1.4s infinite ease-in-out;
    }

    @keyframes coinPulse {
      0% {
        transform: scale(0.95);
        box-shadow: 0 0 0 rgba(250, 204, 21, 0.6);
      }

      70% {
        transform: scale(1.15);
        box-shadow: 0 0 18px rgba(250, 204, 21, 0.9);
      }

      100% {
        transform: scale(0.95);
        box-shadow: 0 0 0 rgba(250, 204, 21, 0.6);
      }
    }

    /* ADD */
    .addBusinessBtn {
      width: 100%;
      padding: 10px;
      border: none;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 700;
      background: #ff9800;
      color: white;
      cursor: pointer;
      margin-top: 6px;
    }

    /* ABOUT */
    .promo-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, .65);
      backdrop-filter: blur(8px);
      z-index: 999;
    }

    .promo-card {
      max-width: 360px;
      margin: 80px auto;
      padding: 20px;
      border-radius: 18px;
      background: linear-gradient(145deg, rgba(255, 255, 255, .18), rgba(255, 255, 255, .05));
      text-align: center;
    }

    .promo-close {
      position: absolute;
      right: 18px;
      top: 14px;
      border: none;
      background: none;
      color: white;
      font-size: 18px;
      cursor: pointer;
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <div class="app-header">
    <div>
      <button id="resetBtn" class="header-btn">üîÑ</button>
      <button id="aboutBtn" class="header-btn">‚ÑπÔ∏è</button>
    </div>
    <button id="soundBtn" class="header-btn soundbtn">üîä</button>
  </div>

  <div class="title">üè¢ Business Tycoon</div>
  <div class="money">üí∞ Money: <span id="money">‚Ç±0</span></div>

  <button id="addBusinessBtn" class="addBusinessBtn"></button>

  <div id="lockedBanner"></div>
  <div id="businessList"></div>

  <!-- ABOUT -->
  <div id="aboutModal" class="promo-overlay">
    <div class="promo-card">
      <button id="closeAbout" class="promo-close">‚úñ</button>
      <h2>Business Tycoon</h2>
      <p><b>Hi, my name is Renato!</b></p>
I created this game to show how small beginnings can grow into big success. Earn money every second, upgrade your businesses, and enjoy the journey of becoming rich‚Äîone smart decision at a time.
<br><b>Earn money every second. Upgrade businesses. Become rich</b>. üöÄ.</p>
    </div>
  </div>

  <script>

    let incomeInterval = null;

    function startIncome() {
      stopIncome(); // safety

      incomeInterval = setInterval(() => {
        let total = 0;

        owned.forEach(d => {
          const b = types[d.index];
          total += b.income * d.level;
        });

        money += total;
        updateUI();
        save();
      }, 1000);
    }

    function stopIncome() {
      if (incomeInterval) {
        clearInterval(incomeInterval);
        incomeInterval = null;
      }
    }

    /* ===== ELEMENTS ===== */
    const moneyEl = document.getElementById("money");
    const list = document.getElementById("businessList");
    const addBtn = document.getElementById("addBusinessBtn");
    const banner = document.getElementById("lockedBanner");

    /* ===== SOUND ===== */
    const sound = {
      bgm: new Audio("476546__mrthenoronha__platform-game-theme-loop-2.wav"),
      upgrade: new Audio("656396__nikos34__upgrade-2.wav"),
      unlock: new Audio("810182__mokasza__cash-register-purchase.mp3")
    };
    sound.bgm.loop = true; sound.bgm.volume = .25;
    let soundOn = true;
    function play(t) { if (!soundOn) return; sound[t].currentTime = 0; sound[t].play().catch(() => { }) }
    document.addEventListener("click", () => sound.bgm.play().catch(() => { }), { once: true });
    soundBtn.onclick = () => { soundOn = !soundOn; soundBtn.textContent = soundOn ? "üîä" : "üîá"; soundOn ? sound.bgm.play() : sound.bgm.pause() };

    /* ===== DATA ===== */
    const types = [
      { name: "Sari-sari Store", icon: "üè™", income: 10, unlockCost: 0 },
      { name: "Carinderia", icon: "üç≤", income: 25, unlockCost: 1000 },
      { name: "Rice Retailing", icon: "üçö", income: 60, unlockCost: 3000 },
      { name: "Coffee Shop", icon: "‚òï", income: 120, unlockCost: 8000 },
      { name: "Milk Tea Shop", icon: "üßã", income: 150, unlockCost: 9000 },
      { name: "Laundry Shop", icon: "üß∫", income: 500, unlockCost: 20000 },
      { name: "Restaurant", icon: "üçî", income: 2000, unlockCost: 50000 },
      { name: "Car/Motor Parts", icon: "üöó", income: 5000, unlockCost: 80000 },
      { name: "Jollibee", icon: "üçó", income: 100000, unlockCost: 900000 },
      { name: "Gasoline Station", icon: "‚õΩ", income: 250000, unlockCost: 2000000 },
      { name: "Bank", icon: "üè¶", income: 15000000, unlockCost: 120000000 },
      { name: "Real Estate", icon: "üè¢", income: 20000000, unlockCost: 150000000 }
    ];

    /* ===== STATE ===== */
    let money = +localStorage.money || 0;
    let idx = +localStorage.idx || 0;
    let owned = JSON.parse(localStorage.owned || "[]");

    /* ===== UTILS ===== */
    const fmt = v => v >= 1e9 ? `‚Ç±${(v / 1e9).toFixed(1)}B` : v >= 1e6 ? `‚Ç±${(v / 1e6).toFixed(1)}M` : v >= 1e3 ? `‚Ç±${(v / 1e3).toFixed(1)}K` : `‚Ç±${v}`;
    const save = () => { localStorage.money = money; localStorage.idx = idx; localStorage.owned = JSON.stringify(owned) };

    /* ===== UI ===== */
    function updateUI() {
      moneyEl.textContent = fmt(money);
      if (idx >= types.length) { addBtn.textContent = "All Businesses Unlocked"; addBtn.disabled = true; banner.style.display = "block"; banner.textContent = "üéâ All Businesses Unlocked"; return; }
      const n = types[idx];
      addBtn.textContent = money >= n.unlockCost ? `‚ûï Invest ${n.name} (${fmt(n.unlockCost)})` : n.name;
      addBtn.disabled = money < n.unlockCost;
      banner.style.display = money < n.unlockCost ? "block" : "none";
      banner.textContent = `üîí Next: ${n.name} at ${fmt(n.unlockCost)}`;
    }

    /* ===== RENDER ===== */
    function render() {
      list.innerHTML = "";
      owned.forEach(d => {
        const b = types[d.index];
        const div = document.createElement("div");
        div.className = "business";
        const cost = () => b.income * d.level * 10;
        div.innerHTML = `
   <div class="business-icon">${b.icon}</div>
   <div class="business-info">
    <strong>${b.name}</strong><br>
    Lvl ${d.level} ‚Ä¢ ${fmt(b.income * d.level)}/s
    <div class="coin-pulse">‚Ç±</div>
   </div>
   <button class="upgradeBtn">${fmt(cost())}</button>`;
        const btn = div.querySelector("button");
        btn.onclick = () => {
          if (money < cost()) return;
          money -= cost(); d.level++; play("upgrade");
          render(); save();
        };
        list.appendChild(div);
      });
      updateUI();
    }

    /* ===== EVENTS ===== */
    addBtn.onclick = () => {
      const b = types[idx]; if (money < b.unlockCost) return;
      money -= b.unlockCost; owned.push({ index: idx, level: 1 }); idx++;
      play("unlock"); render(); save();
    };
    let isResetting = false;

    resetBtn.onclick = () => {
      if (!confirm("Reset all progress?")) return;

      // STOP income FIRST
      stopIncome();

      // clear storage
      localStorage.clear();

      // reset state
      money = 0;
      idx = 0;
      owned = [];

      // reset UI
      list.innerHTML = "";
      banner.style.display = "none";

      updateUI();

      // restart clean income loop
      startIncome();
    };

    /* ===== ABOUT ===== */
    aboutBtn.onclick = () => aboutModal.style.display = "block";
    closeAbout.onclick = () => aboutModal.style.display = "none";
    aboutModal.onclick = e => { if (e.target === aboutModal) aboutModal.style.display = "none" };

    /* INIT */
    render();
    startIncome();
  </script>
</body>

</html>
